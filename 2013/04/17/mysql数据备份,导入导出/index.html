<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>mysql数据备份,导入导出 | Jay Young&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="og:type" content="blog">
<meta name="og:title" content="mysql数据备份,导入导出">
<meta name="og:url" content="http://www.zhyin5.com/2013/04/17/mysql数据备份,导入导出/">
<meta name="og:image">
<meta name="og:site_name" content="Jay Young's Blog">
<meta name="og:description" content="mysqldump命令的使用,参数说明说明:转自雪洁-Mysql备份还原数据库之mysqldump实例及参数详细说明
我们在运营项目的过程中肯定会遇到备份数据库，还原数据库的情况，我们一般用一下两种方式来处理：
1. 使用into outfile 和 load data infile导入导出备份数据
这种方法的好处是，导出的数据可以自己规定格式，并且导出的是纯数据，不存在建表信息，你可以直接导入另">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Jay Young&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="http://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jay Young&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">啦啦啦</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://www.zhyin5.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-mysql数据备份,导入导出" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/04/17/mysql数据备份,导入导出/" class="article-date">
  <time datetime="2013-04-17T09:25:51.000Z" itemprop="datePublished">4月 17 2013</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/tech/">tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      mysql数据备份,导入导出
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>mysqldump命令的使用,参数说明<br><a id="more"></a><br><strong>说明:</strong>转自<a href="http://www.cnblogs.com/xuejie/archive/2013/01/11/2856911.html" target="_blank">雪洁-Mysql备份还原数据库之mysqldump实例及参数详细说明</a></p>
<p>我们在运营项目的过程中肯定会遇到备份数据库，还原数据库的情况，我们一般用一下两种方式来处理：</p>
<h4 id="1-_使用into_outfile_和_load_data_infile导入导出备份数据">1. 使用into outfile 和 load data infile导入导出备份数据</h4>
<p>这种方法的好处是，导出的数据可以自己规定格式，并且导出的是纯数据，不存在建表信息，你可以直接导入另外一个同数据库的不同表中，相对于mysqldump比较灵活机动。</p>
<p>我们来看下面的例子：</p>
<p>下面的mysql命令是把select的mytable表中的数据导出到/home/db_bak2012文件。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="operator"><span class="keyword">select</span> * <span class="keyword">from</span> mytable <span class="keyword">where</span> status!=<span class="number">0</span> <span class="keyword">and</span> name!=<span class="string">''</span> <span class="keyword">into</span> outfile <span class="string">'/home/db_bak2012'</span>
fields terminated <span class="keyword">by</span> <span class="string">'|'</span> enclosed <span class="keyword">by</span> <span class="string">'"'</span> lines terminated <span class="keyword">by</span> <span class="string">'\r\n'</span> ;</span>
</pre></td></tr></table></figure>

<p>导入刚才备份的数据，可以使用load file方法，下面的mysql命令，把导出的数据导入了mytable_bak的表中：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="operator"><span class="keyword">load</span> data infile <span class="string">'/home/db_bak2012'</span> <span class="keyword">into</span> <span class="keyword">table</span> mytable_bak
fields terminated <span class="keyword">by</span> <span class="string">'|'</span> enclosed <span class="keyword">by</span> <span class="string">'"'</span> lines terminated <span class="keyword">by</span> <span class="string">'\r\n'</span> ;</span>
</pre></td></tr></table></figure>

<h4 id="2-_使用mysqldump导出固定条件的数据库">2. 使用mysqldump导出固定条件的数据库</h4>
<p>我们来看几个常用用例：</p>
<p>2.1 导出整个数据库</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>mysqldump <span class="attribute">-u</span> 用户名 <span class="attribute">-p</span> 数据库名 <span class="subst">&gt;</span> 导出的文件名 
mysqldump <span class="attribute">-u</span> wcnc <span class="attribute">-p</span> smgp_apps_wcnc <span class="subst">&gt;</span> wcnc<span class="built_in">.</span>sql
</pre></td></tr></table></figure>

<p>2.2 导出一个表</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>mysqldump <span class="attribute">-u</span> 用户名 <span class="attribute">-p</span> 数据库名 表名<span class="subst">&gt;</span> 导出的文件名
mysqldump <span class="attribute">-u</span> wcnc <span class="attribute">-p</span> smgp_apps_wcnc users<span class="subst">&gt;</span> wcnc_users<span class="built_in">.</span>sql
</pre></td></tr></table></figure>

<p>2.3 导出一个数据库结构</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>mysqldump -u wcnc -p -d --add-<span class="keyword">drop</span>-table smgp_apps_wcnc &gt;d:\wcnc_db.sql
#-d 不导出数据只导出结构 --add-<span class="keyword">drop</span>-table 在每个create语句之前增加一个<span class="keyword">drop</span> table
</pre></td></tr></table></figure>

<p>2.4 导入数据库，常用source 命令</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre><span class="preprocessor">#进入mysql数据库控制台，</span>
mysql -u root -p 
mysql&gt;use 数据库
mysql&gt;<span class="keyword">set</span> names utf8; （先确认编码，如果不设置可能会出现乱码，注意不是UTF-<span class="number">8</span>） 
<span class="preprocessor">#然后使用source命令，后面参数为脚本文件（如这里用到的.sql）</span>
mysql&gt;source d:\wcnc_db.sql
</pre></td></tr></table></figure>

<p>上边的实例只是最基础的，有的时候我们可能需要批量导出多个库，我们就可以加上—databases 或者-B，如下语句：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>mysqldump  -uroot -p --databases test mysql <span class="comment">#空格分隔</span>
</pre></td></tr></table></figure>

<p>还有的时候我们可能需要把数据库内所有的库全部备份，我们就可以使用-all-databases，如下语句：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>mysqldump  <span class="attribute">-uroot</span> <span class="attribute">-p</span> <span class="attribute">-all</span><span class="attribute">-databases</span>
</pre></td></tr></table></figure>

<p>可能我们还会有更多的需求，下面是我在网上找的感觉比较全的参数说明，贴出来供大家参考。</p>
<h5 id="参数说明">参数说明</h5>
<p><code>--all-databases  , -A</code></p>
<p>导出全部数据库。</p>
<p>mysqldump  -uroot -p —all-databases</p>
<p><code>--all-tablespaces  , -Y</code></p>
<p>导出全部表空间。</p>
<p>mysqldump  -uroot -p —all-databases —all-tablespaces</p>
<p><code>--no-tablespaces  , -y</code></p>
<p>不导出任何表空间信息。</p>
<p>mysqldump  -uroot -p —all-databases —no-tablespaces</p>
<p><code>--add-drop-database</code></p>
<p>每个数据库创建之前添加drop数据库语句。</p>
<p>mysqldump  -uroot -p —all-databases —add-drop-database</p>
<p><code>--add-drop-table</code></p>
<p>每个数据表创建之前添加drop数据表语句。(默认为打开状态，使用—skip-add-drop-table取消选项)</p>
<p>mysqldump  -uroot -p —all-databases  (默认添加drop语句)</p>
<p>mysqldump  -uroot -p —all-databases –skip-add-drop-table  (取消drop语句)</p>
<p><code>--add-locks</code></p>
<p>在每个表导出之前增加LOCK TABLES并且之后UNLOCK  TABLE。(默认为打开状态，使用—skip-add-locks取消选项)</p>
<p>mysqldump  -uroot -p —all-databases  (默认添加LOCK语句)</p>
<p>mysqldump  -uroot -p —all-databases –skip-add-locks   (取消LOCK语句)</p>
<p><code>--allow-keywords</code></p>
<p>允许创建是关键词的列名字。这由表名前缀于每个列名做到。</p>
<p>mysqldump  -uroot -p —all-databases —allow-keywords</p>
<p><code>--apply-slave-statements</code></p>
<p>在’CHANGE MASTER’前添加’STOP SLAVE’，并且在导出的最后添加’START SLAVE’。</p>
<p>mysqldump  -uroot -p —all-databases —apply-slave-statements</p>
<p><code>--character-sets-dir</code></p>
<p>字符集文件的目录</p>
<p>mysqldump  -uroot -p —all-databases  —character-sets-dir=/usr/local/mysql/share/mysql/charsets</p>
<p><code>--comments</code></p>
<p>附加注释信息。默认为打开，可以用—skip-comments取消</p>
<p>mysqldump  -uroot -p —all-databases  (默认记录注释)</p>
<p>mysqldump  -uroot -p —all-databases —skip-comments   (取消注释)</p>
<p><code>--compatible</code></p>
<p>导出的数据将和其它数据库或旧版本的MySQL 相兼容。值可以为ansi、mysql323、mysql40、postgresql、oracle、mssql、db2、maxdb、no_key_options、no_tables_options、no_field_options等，</p>
<p>要使用几个值，用逗号将它们隔开。它并不保证能完全兼容，而是尽量兼容。</p>
<p>mysqldump  -uroot -p —all-databases —compatible=ansi</p>
<p><code>--compact</code></p>
<p>导出更少的输出信息(用于调试)。去掉注释和头尾等结构。可以使用选项：—skip-add-drop-table  —skip-add-locks —skip-comments —skip-disable-keys</p>
<p>mysqldump  -uroot -p —all-databases —compact</p>
<p><code>--complete-insert,  -c</code></p>
<p>使用完整的insert语句(包含列名称)。这么做能提高插入效率，但是可能会受到max_allowed_packet参数的影响而导致插入失败。</p>
<p>mysqldump  -uroot -p —all-databases —complete-insert</p>
<p><code>--compress, -C</code></p>
<p>在客户端和服务器之间启用压缩传递所有信息</p>
<p>mysqldump  -uroot -p —all-databases —compress</p>
<p><code>--create-options,  -a</code></p>
<p>在CREATE TABLE语句中包括所有MySQL特性选项。(默认为打开状态)</p>
<p>mysqldump  -uroot -p —all-databases</p>
<p><code>--databases,  -B</code></p>
<p>导出几个数据库。参数后面所有名字参量都被看作数据库名。</p>
<p>mysqldump  -uroot -p —databases test mysql</p>
<p><code>--debug</code></p>
<p>输出debug信息，用于调试。默认值为：d:t:o,/tmp/mysqldump.trace</p>
<p>mysqldump  -uroot -p —all-databases —debug</p>
<p>mysqldump  -uroot -p —all-databases —debug=” d:t:o,/tmp/debug.trace”</p>
<p><code>--debug-check</code></p>
<p>检查内存和打开文件使用说明并退出。</p>
<p>mysqldump  -uroot -p —all-databases —debug-check</p>
<p><code>--debug-info</code></p>
<p>输出调试信息并退出</p>
<p>mysqldump  -uroot -p —all-databases —debug-info</p>
<p><code>--default-character-set</code></p>
<p>设置默认字符集，默认值为utf8</p>
<p>mysqldump  -uroot -p —all-databases —default-character-set=latin1</p>
<p><code>--delayed-insert</code></p>
<p>采用延时插入方式（INSERT DELAYED）导出数据</p>
<p>mysqldump  -uroot -p —all-databases —delayed-insert</p>
<p><code>--delete-master-logs</code></p>
<p>master备份后删除日志. 这个参数将自动激活—master-data。</p>
<p>mysqldump  -uroot -p —all-databases —delete-master-logs</p>
<p><code>--disable-keys</code></p>
<p>对于每个表，用/<em>!40000 ALTER TABLE tbl_name DISABLE KEYS </em>/;和/<em>!40000 ALTER TABLE tbl_name ENABLE KEYS </em>/;语句引用INSERT语句。这样可以更快地导入dump出来的文件，因为它是在插入所有行后创建索引的。该选项只适合MyISAM表，默认为打开状态。</p>
<p>mysqldump  -uroot -p —all-databases </p>
<p><code>--dump-slave</code></p>
<p>该选项将导致主的binlog位置和文件名追加到导出数据的文件中。设置为1时，将会以CHANGE MASTER命令输出到数据文件；设置为2时，在命令前增加说明信息。该选项将会打开—lock-all-tables，除非—single-transaction被指定。该选项会自动关闭—lock-tables选项。默认值为0。</p>
<p>mysqldump  -uroot -p —all-databases —dump-slave=1</p>
<p>mysqldump  -uroot -p —all-databases —dump-slave=2</p>
<p><code>--events, -E</code></p>
<p>导出事件。</p>
<p>mysqldump  -uroot -p —all-databases —events</p>
<p><code>--extended-insert,  -e</code></p>
<p>使用具有多个VALUES列的INSERT语法。这样使导出文件更小，并加速导入时的速度。默认为打开状态，使用—skip-extended-insert取消选项。</p>
<p>mysqldump  -uroot -p —all-databases</p>
<p>mysqldump  -uroot -p —all-databases—skip-extended-insert   (取消选项)</p>
<p><code>--fields-terminated-by</code></p>
<p>导出文件中忽略给定字段。与—tab选项一起使用，不能用于—databases和—all-databases选项</p>
<p>mysqldump  -uroot -p test test —tab=”/home/mysql” —fields-terminated-by=”#”</p>
<p><code>--fields-enclosed-by</code></p>
<p>输出文件中的各个字段用给定字符包裹。与—tab选项一起使用，不能用于—databases和—all-databases选项</p>
<p>mysqldump  -uroot -p test test —tab=”/home/mysql” —fields-enclosed-by=”#”</p>
<p><code>--fields-optionally-enclosed-by</code></p>
<p>输出文件中的各个字段用给定字符选择性包裹。与—tab选项一起使用，不能用于—databases和—all-databases选项</p>
<p>mysqldump  -uroot -p test test —tab=”/home/mysql”  —fields-enclosed-by=”#” —fields-optionally-enclosed-by  =”#”</p>
<p><code>--fields-escaped-by</code></p>
<p>输出文件中的各个字段忽略给定字符。与—tab选项一起使用，不能用于—databases和—all-databases选项</p>
<p>mysqldump  -uroot -p mysql user —tab=”/home/mysql” —fields-escaped-by=”#”</p>
<p><code>--flush-logs</code></p>
<p>开始导出之前刷新日志。</p>
<p>请注意：假如一次导出多个数据库(使用选项—databases或者—all-databases)，将会逐个数据库刷新日志。除使用—lock-all-tables或者—master-data外。在这种情况下，日志将会被刷新一次，相应的所以表同时被锁定。因此，如果打算同时导出和刷新日志应该使用—lock-all-tables 或者—master-data 和—flush-logs。</p>
<p>mysqldump  -uroot -p —all-databases —flush-logs</p>
<p><code>--flush-privileges</code></p>
<p>在导出mysql数据库之后，发出一条FLUSH  PRIVILEGES 语句。为了正确恢复，该选项应该用于导出mysql数据库和依赖mysql数据库数据的任何时候。</p>
<p>mysqldump  -uroot -p —all-databases —flush-privileges</p>
<p><code>--force</code></p>
<p>在导出过程中忽略出现的SQL错误。</p>
<p>mysqldump  -uroot -p —all-databases —force</p>
<p><code>--help</code></p>
<p>显示帮助信息并退出。</p>
<p>mysqldump  —help</p>
<p><code>--hex-blob</code></p>
<p>使用十六进制格式导出二进制字符串字段。如果有二进制数据就必须使用该选项。影响到的字段类型有BINARY、VARBINARY、BLOB。</p>
<p>mysqldump  -uroot -p —all-databases —hex-blob</p>
<p><code>--host, -h</code></p>
<p>需要导出的主机信息</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases</p>
<p><code>--ignore-table</code></p>
<p>不导出指定表。指定忽略多个表时，需要重复多次，每次一个表。每个表必须同时指定数据库和表名。例如：—ignore-table=database.table1 —ignore-table=database.table2 ……</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —ignore-table=mysql.user</p>
<p><code>--include-master-host-port</code></p>
<p>在—dump-slave产生的’CHANGE  MASTER TO..’语句中增加’MASTER_HOST=<host>，MASTER_PORT=<port>‘  </p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —include-master-host-port</p>
<p><code>--insert-ignore</code></p>
<p>在插入行时使用INSERT IGNORE语句.</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —insert-ignore</p>
<p><code>--lines-terminated-by</code></p>
<p>输出文件的每行用给定字符串划分。与—tab选项一起使用，不能用于—databases和—all-databases选项。</p>
<p>mysqldump  -uroot -p —host=localhost test test —tab=”/tmp/mysql”  —lines-terminated-by=”##”</p>
<p><code>--lock-all-tables,  -x</code></p>
<p>提交请求锁定所有数据库中的所有表，以保证数据的一致性。这是一个全局读锁，并且自动关闭—single-transaction 和—lock-tables 选项。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —lock-all-tables</p>
<p><code>--lock-tables,  -l</code></p>
<p>开始导出前，锁定所有表。用READ  LOCAL锁定表以允许MyISAM表并行插入。对于支持事务的表例如InnoDB和BDB，—single-transaction是一个更好的选择，因为它根本不需要锁定表。</p>
<p>请注意当导出多个数据库时，—lock-tables分别为每个数据库锁定表。因此，该选项不能保证导出文件中的表在数据库之间的逻辑一致性。不同数据库表的导出状态可以完全不同。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —lock-tables</p>
<p><code>--log-error</code></p>
<p>附加警告和错误信息到给定文件</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases  —log-error=/tmp/mysqldump_error_log.err</p>
<p><code>--master-data</code></p>
<p>该选项将binlog的位置和文件名追加到输出文件中。如果为1，将会输出CHANGE MASTER 命令；如果为2，输出的CHANGE  MASTER命令前添加注释信息。该选项将打开—lock-all-tables 选项，除非—single-transaction也被指定（在这种情况下，全局读锁在开始导出时获得很短的时间；其他内容参考下面的—single-transaction选项）。该选项自动关闭—lock-tables选项。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —master-data=1;</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —master-data=2;</p>
<p><code>--max_allowed_packet</code></p>
<p>服务器发送和接受的最大包长度。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —max_allowed_packet=10240</p>
<p><code>--net_buffer_length</code></p>
<p>TCP/IP和socket连接的缓存大小。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —net_buffer_length=1024</p>
<p><code>--no-autocommit</code></p>
<p>使用autocommit/commit 语句包裹表。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —no-autocommit</p>
<p><code>--no-create-db,  -n</code></p>
<p>只导出数据，而不添加CREATE DATABASE 语句。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —no-create-db</p>
<p><code>--no-create-info,  -t</code></p>
<p>只导出数据，而不添加CREATE TABLE 语句。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —no-create-info</p>
<p><code>--no-data, -d</code></p>
<p>不导出任何数据，只导出数据库表结构。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —no-data</p>
<p><code>--no-set-names,  -N</code></p>
<p>等同于—skip-set-charset</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —no-set-names</p>
<p><code>--opt</code></p>
<p>等同于—add-drop-table,  —add-locks, —create-options, —quick, —extended-insert, —lock-tables,  —set-charset, —disable-keys 该选项默认开启,  可以用—skip-opt禁用.</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —opt</p>
<p><code>--order-by-primary</code></p>
<p>如果存在主键，或者第一个唯一键，对每个表的记录进行排序。在导出MyISAM表到InnoDB表时有效，但会使得导出工作花费很长时间。 </p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —order-by-primary</p>
<p><code>--password, -p</code></p>
<p>连接数据库密码</p>
<p><code>--pipe(windows系统可用)</code></p>
<p>使用命名管道连接mysql</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —pipe</p>
<p><code>--port, -P</code></p>
<p>连接数据库端口号</p>
<p><code>--protocol</code></p>
<p>使用的连接协议，包括：tcp, socket, pipe, memory.</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —protocol=tcp</p>
<p><code>--quick, -q</code></p>
<p>不缓冲查询，直接导出到标准输出。默认为打开状态，使用—skip-quick取消该选项。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases </p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —skip-quick</p>
<p><code>--quote-names,-Q</code></p>
<p>使用（`）引起表和列名。默认为打开状态，使用—skip-quote-names取消该选项。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —skip-quote-names</p>
<p><code>--replace</code></p>
<p>使用REPLACE INTO 取代INSERT INTO.</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —replace</p>
<p><code>--result-file,  -r</code></p>
<p>直接输出到指定文件中。该选项应该用在使用回车换行对（\r\n）换行的系统上（例如：DOS，Windows）。该选项确保只有一行被使用。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —result-file=/tmp/mysqldump_result_file.txt</p>
<p><code>--routines, -R</code></p>
<p>导出存储过程以及自定义函数。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —routines</p>
<p><code>--set-charset</code></p>
<p>添加’SET NAMES  default_character_set’到输出文件。默认为打开状态，使用—skip-set-charset关闭选项。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases </p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —skip-set-charset</p>
<p><code>--single-transaction</code></p>
<p>该选项在导出数据之前提交一个BEGIN SQL语句，BEGIN 不会阻塞任何应用程序且能保证导出时数据库的一致性状态。它只适用于多版本存储引擎，仅InnoDB。本选项和—lock-tables 选项是互斥的，因为LOCK  TABLES 会使任何挂起的事务隐含提交。要想导出大表的话，应结合使用—quick 选项。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —single-transaction</p>
<p><code>--dump-date</code></p>
<p>将导出时间添加到输出文件中。默认为打开状态，使用—skip-dump-date关闭选项。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —skip-dump-date</p>
<p><code>--skip-opt</code></p>
<p>禁用–opt选项.</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —skip-opt</p>
<p><code>--socket,-S</code></p>
<p>指定连接mysql的socket文件位置，默认路径/tmp/mysql.sock</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —socket=/tmp/mysqld.sock</p>
<p><code>--tab,-T</code></p>
<p>为每个表在给定路径创建tab分割的文本文件。注意：仅仅用于mysqldump和mysqld服务器运行在相同机器上。</p>
<p>mysqldump  -uroot -p —host=localhost test test —tab=”/home/mysql”</p>
<p><code>--tables</code></p>
<p>覆盖—databases (-B)参数，指定需要导出的表名。</p>
<p>mysqldump  -uroot -p —host=localhost —databases test —tables test</p>
<p><code>--triggers</code></p>
<p>导出触发器。该选项默认启用，用—skip-triggers禁用它。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —triggers</p>
<p><code>--tz-utc</code></p>
<p>在导出顶部设置时区TIME_ZONE=’+00:00’ ，以保证在不同时区导出的TIMESTAMP 数据或者数据被移动其他时区时的正确性。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —tz-utc</p>
<p><code>--user, -u</code></p>
<p>指定连接的用户名。</p>
<p><code>--verbose, --v</code></p>
<p>输出多种平台信息。</p>
<p><code>--version, -V</code></p>
<p>输出mysqldump版本信息并退出</p>
<p><code>--where, -w</code></p>
<p>只转储给定的WHERE条件选择的记录。请注意如果条件包含命令解释符专用空格或字符，一定要将条件引用起来。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —where=” user=’root’”</p>
<p><code>--xml, -X</code></p>
<p>导出XML格式.</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —xml</p>
<p><code>--plugin_dir</code></p>
<p>客户端插件的目录，用于兼容不同的插件版本。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —plugin_dir=”/usr/local/lib/plugin”</p>
<p><code>--default_auth</code></p>
<p>客户端插件默认使用权限。</p>
<p>mysqldump  -uroot -p —host=localhost —all-databases —default-auth=”/usr/local/lib/plugin/<PLUGIN>”</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.zhyin5.com/2013/04/17/mysql数据备份,导入导出/" data-id="hiuup88cdixmw0cv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/">mysql</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysqldump/">mysqldump</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2013/04/24/cookie和session/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          cookie和session
        
      </div>
    </a>
  
  
    <a href="/2013/04/14/tmux/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">tmux</div>
    </a>
  
</nav>

  
</article>




<section id="comment">
<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="请将此处替换成文章在你的站点中的ID" data-title="请替换成文章的标题" data-url="请替换成文章的网址"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"zhyin5"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ML/DM/">ML/DM</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/">tech</a><span class="category-list-count">29</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/笔试/面试/">笔试/面试</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DM/">DM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ML/">ML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVC/">MVC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sublime/">Sublime</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/awesome/">awesome</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cookie/">cookie</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/">django</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dnsmasq/">dnsmasq</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hostapd/">hostapd</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysqldump/">mysqldump</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/numpy/">numpy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/session/">session</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svn/">svn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wifi/">wifi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/快捷键/">快捷键</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/排序/">排序</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/查找/">查找</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/版本控制/">版本控制</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/窗口管理/">窗口管理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔试/">笔试</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络访问/">网络访问</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络通信/">网络通信</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/解压/压缩/">解压/压缩</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软AP/">软AP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面向对象/">面向对象</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 18.00px;">Android</a><a href="/tags/DM/" style="font-size: 10.00px;">DM</a><a href="/tags/ML/" style="font-size: 10.00px;">ML</a><a href="/tags/MVC/" style="font-size: 10.00px;">MVC</a><a href="/tags/Sublime/" style="font-size: 12.00px;">Sublime</a><a href="/tags/awesome/" style="font-size: 12.00px;">awesome</a><a href="/tags/cookie/" style="font-size: 10.00px;">cookie</a><a href="/tags/django/" style="font-size: 14.00px;">django</a><a href="/tags/dnsmasq/" style="font-size: 10.00px;">dnsmasq</a><a href="/tags/hostapd/" style="font-size: 10.00px;">hostapd</a><a href="/tags/linux/" style="font-size: 20.00px;">linux</a><a href="/tags/mysql/" style="font-size: 12.00px;">mysql</a><a href="/tags/mysqldump/" style="font-size: 10.00px;">mysqldump</a><a href="/tags/numpy/" style="font-size: 10.00px;">numpy</a><a href="/tags/python/" style="font-size: 16.00px;">python</a><a href="/tags/session/" style="font-size: 10.00px;">session</a><a href="/tags/svn/" style="font-size: 10.00px;">svn</a><a href="/tags/vim/" style="font-size: 12.00px;">vim</a><a href="/tags/wifi/" style="font-size: 10.00px;">wifi</a><a href="/tags/快捷键/" style="font-size: 10.00px;">快捷键</a><a href="/tags/排序/" style="font-size: 10.00px;">排序</a><a href="/tags/数据结构/" style="font-size: 10.00px;">数据结构</a><a href="/tags/查找/" style="font-size: 10.00px;">查找</a><a href="/tags/爬虫/" style="font-size: 10.00px;">爬虫</a><a href="/tags/版本控制/" style="font-size: 10.00px;">版本控制</a><a href="/tags/窗口管理/" style="font-size: 10.00px;">窗口管理</a><a href="/tags/笔试/" style="font-size: 12.00px;">笔试</a><a href="/tags/网络访问/" style="font-size: 10.00px;">网络访问</a><a href="/tags/网络通信/" style="font-size: 10.00px;">网络通信</a><a href="/tags/解压/压缩/" style="font-size: 10.00px;">解压/压缩</a><a href="/tags/设计模式/" style="font-size: 10.00px;">设计模式</a><a href="/tags/软AP/" style="font-size: 10.00px;">软AP</a><a href="/tags/面向对象/" style="font-size: 10.00px;">面向对象</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04">四月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08">八月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07">七月 2013</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06">六月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04">四月 2013</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03">三月 2013</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02">二月 2013</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/04/09/机器学习算法中为什么要增加一维x0=1/">机器学习算法中为什么要增加一维x0=1</a>
          </li>
        
          <li>
            <a href="/2014/04/06/python-sympy/">python-sympy</a>
          </li>
        
          <li>
            <a href="/2013/08/02/androidosnetworkonmainthreadexception/">android.os.NetworkOnMainThreadException</a>
          </li>
        
          <li>
            <a href="/2013/07/25/android学习笔记-broadcast/">Android学习笔记-Broadcast</a>
          </li>
        
          <li>
            <a href="/2013/07/24/linux下android真机调试/">Linux下Android真机调试</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=1&isWeibo=1&isFans=1&uid=1840199725&verifier=c3e417d3&dpc=1"></iframe>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="elapseClock"></div>
  </div>
</footer>

<style>
    #elapseClock { text-align:center; font-size:18px; margin-top:10px; margin-bottom:10px }
    #elapseClock .digit{ font-family:"digit"; font-size:36px }
</style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>

<script>
function timeElapse(date){
	var current = Date();
	var seconds = (Date.parse(current) - Date.parse(date)) / 1000;
	var days = Math.floor(seconds / (3600 * 24));
	seconds = seconds % (3600 * 24);
	var hours = Math.floor(seconds / 3600);
	if (hours < 10) {
		hours = "0" + hours;
	}
	seconds = seconds % 3600;
	var minutes = Math.floor(seconds / 60);
	if (minutes < 10) {
		minutes = "0" + minutes;
	}
	seconds = seconds % 60;
	if (seconds < 10) {
		seconds = "0" + seconds;
	}
	var result = "From 2010.12.04 10:30 to Now: <span class=\"digit\">" + days + "</span> days <span class=\"digit\">" + hours + "</span> hours <span class=\"digit\">" + minutes + "</span> minutes <span class=\"digit\">" + seconds + "</span> seconds"; 
	$("#elapseClock").html(result);
}

var together = new Date();
together.setFullYear(2010, 11, 04);
together.setHours(10);
together.setMinutes(0);
together.setSeconds(0);
together.setMilliseconds(0);

timeElapse(together);
setInterval(function () {
    timeElapse(together);
}, 500);

</script>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>


<script type="text/javascript" src="/js/script.js"></script>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>